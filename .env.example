#-----------------------------------------------------------------------------
# Azure AI Search Configuration (REQUIRED)
#-----------------------------------------------------------------------------
# Full endpoint URL including https:// prefix
AZURE_SEARCH_ENDPOINT=https://<your-search>.search.windows.net
# Admin API key with write permissions
AZURE_SEARCH_KEY=<admin-key>

#-----------------------------------------------------------------------------
# Azure Cosmos DB Configuration (REQUIRED)
#-----------------------------------------------------------------------------
# Full endpoint URL including https:// prefix and port
COSMOS_ENDPOINT=https://<your-cosmos>.documents.azure.com:443/
# Primary or secondary key with read/write access
COSMOS_KEY=<cosmos-key>
# Database and container names
COSMOS_DB=blogs
COSMOS_ARTICLES=articles
COSMOS_USERS=users

#-----------------------------------------------------------------------------
# Embeddings Configuration
#-----------------------------------------------------------------------------
# Choose between "openai" (API-based) or "hf" (local Hugging Face models)
EMBEDDING_PROVIDER=openai

# OpenAI API configuration
OPENAI_API_KEY=<openai-or-azure-openai-key>
# Optional: Use for Azure OpenAI Service endpoints
OPENAI_BASE_URL=
# API version for Azure OpenAI (ignored for regular OpenAI)
OPENAI_API_VERSION=2024-06-01
# Model name for embeddings (OpenAI)
EMBEDDING_MODEL=text-embedding-ada-002

# Azure OpenAI settings for indexer skills (when using Azure OpenAI embedding provider)
# These are used by Azure AI Search indexer skillsets for automatic embedding generation
AZURE_OPENAI_ENDPOINT=https://your-azure-openai-resource.openai.azure.com/
AZURE_OPENAI_KEY=your-azure-openai-api-key
AZURE_OPENAI_DEPLOYMENT=text-embedding-ada-002
AZURE_OPENAI_MODELNAME=text-embedding-ada-002

# Hugging Face model configuration (used when EMBEDDING_PROVIDER=hf)
# Requires: pip install sentence-transformers
HF_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2

# Optional override for embedding dimension
# If unset, dimension is resolved automatically from the chosen model
EMBEDDING_DIM=

#-----------------------------------------------------------------------------
# Search Scoring Weights
#-----------------------------------------------------------------------------
# Article search weights (must sum to 1.0)
WEIGHT_SEMANTIC=0.5    # Semantic/natural language understanding weight
WEIGHT_BM25=0.3        # Keyword/term matching weight
WEIGHT_VECTOR=0.1      # Vector/embedding similarity weight
WEIGHT_BUSINESS=0.1    # Business logic (freshness) weight

# Author search weights (must sum to 1.0)
AUTHORS_WEIGHT_SEMANTIC=0.6    # Semantic/natural language understanding weight
AUTHORS_WEIGHT_BM25=0.4        # Keyword/term matching weight
AUTHORS_WEIGHT_VECTOR=0.0      # Vector similarity weight (disabled by default)
AUTHORS_WEIGHT_BUSINESS=0.0    # Business logic weight (disabled by default)

#-----------------------------------------------------------------------------
# Business Logic Configuration
#-----------------------------------------------------------------------------
# Freshness decay rate (time for a document to lose half its freshness score)
FRESHNESS_HALFLIFE_DAYS=250
# Maximum time window for freshness scoring in days
FRESHNESS_WINDOW_DAYS=365

#-----------------------------------------------------------------------------
# Feature Flags
#-----------------------------------------------------------------------------
# Toggle vector embeddings generation during data ingestion (true/false)
ENABLE_EMBEDDINGS=true
